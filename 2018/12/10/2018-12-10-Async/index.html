<!DOCTYPE html><html lang="ko"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Async | The Pragmatic Programmer</title><link rel="stylesheet" href="/libs/spoqa-han-sans-kr/css/SpoqaHanSans-kr.css"><link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="/css/highlights/dracula.css"><link rel="canonical" href="https://eclatant.io/2018/12/10/2018-12-10-Async/"/>
<meta name="description" content="Async (= 비동기)Async란 무엇인가? Sub routine이 callback을 통해 값을 반환하는 것이다 IO와 같은 작업들을 후순위로 미루어 렌더링이 끊이지 않게 하고, 퍼포먼스 밸런싱이 좋아지도록 한다 (Blocking을 없애기…">
<meta name="keywords" content="JS">
<meta property="og:type" content="article">
<meta property="og:title" content="Async">
<meta property="og:url" content="https://eclatant.io/2018/12/10/2018-12-10-Async/">
<meta property="og:site_name" content="The Pragmatic Programmer">
<meta property="og:description" content="Async (= 비동기)Async란 무엇인가? Sub routine이 callback을 통해 값을 반환하는 것이다 IO와 같은 작업들을 후순위로 미루어 렌더링이 끊이지 않게 하고, 퍼포먼스 밸런싱이 좋아지도록 한다 (Blocking을 없애기…">
<meta property="og:locale" content="ko">
<meta property="og:image" content="https://cdn-images-1.medium.com/max/823/1*Co0gr64Uo5kSg89ukFD2dw.jpeg">
<meta property="og:updated_time" content="2018-12-10T07:34:13.372Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Async">
<meta name="twitter:description" content="Async (= 비동기)Async란 무엇인가? Sub routine이 callback을 통해 값을 반환하는 것이다 IO와 같은 작업들을 후순위로 미루어 렌더링이 끊이지 않게 하고, 퍼포먼스 밸런싱이 좋아지도록 한다 (Blocking을 없애기…">
<meta name="twitter:image" content="https://cdn-images-1.medium.com/max/823/1*Co0gr64Uo5kSg89ukFD2dw.jpeg"><meta property="article:author" content="Jeewhan"><meta property="twitter:label1" content="Published at"><meta property="twitter:data1" content="2018-12-10 00:00:00"><meta property="twitter:label2" content="Written by"><meta property="twitter:data2" content="Jeewhan"><link rel="icon" href="/images/hollywood.png"><link rel="alternate" href="/atom.xml" type="application/atom+xml" title="The Pragmatic Programmer"></head><body itemscope itemtype="https://schema.org/WebPage"><nav class="menu" id="menu"><div class="menu-inner"><div class="menu__left-area"><div class="menu__item"><a class="menu__item__link menu__item__link--brand" href="/" title="Home" rel="home"><img class="menu__item__link--brand__image" src="/images/hollywood.png" alt="The Pragmatic Programmer"><span class="menu__item__link--brand__label">The Pragmatic Programmer</span></a></div></div><div class="menu__right-area"><div class="menu__item"><a class="menu__item__link" href="/">Home</a></div><div class="menu__item"><a class="menu__item__link" href="/about">About</a></div><div class="menu__item"><a class="menu__item__link" href="/archives">Archives</a></div></div></div></nav><div class="page-background"></div><div class="content-container"><div class="content-outer"><div class="content-inner" itemscope itemtype="https://schema.org/Blog"><article class="article" id="article" itemscope itemtype="https://schema.org/BlogPosting"><h1 class="article__title" itemprop="headline">Async</h1><div class="article__meta"><time class="article__meta__time" datetime="2018-12-09T15:00:00.000Z" itemprop="datePublished">2018-12-10 00:00:00</time><div class="article__meta__categories"><a class="article__meta__categories__item" href="/categories/JS/">JS</a></div></div><hr><div class="article__contents"><h2 id="Async-비동기"><a href="#Async-비동기" class="headerlink" title="Async (= 비동기)"></a>Async (= 비동기)</h2><p>Async란 무엇인가? Sub routine이 callback을 통해 값을 반환하는 것이다</p>
<p>IO와 같은 작업들을 후순위로 미루어 렌더링이 끊이지 않게 하고, 퍼포먼스 밸런싱이 좋아지도록 한다 (Blocking을 없애기 위함)</p>
<p>비동기를 처리하기 위한 값을 만들고 우리가 원하는 시점에 꺼낼 수 있다는 것이 핵심이다</p>
<p>순번이 없는 애들, 봉화대 전송이 아니어도 되는 경우는 이렇게 구현해야 하며, API 설계시에도 이런 방식으로 가능하도록 요청해야 한다</p>
<p>Promise는 호출 제어권, 일관된 API을 가지며, 의존관계가 없을 때 여러 이점을 가지기 때문이다</p>
<h3 id="Promise-async-await"><a href="#Promise-async-await" class="headerlink" title="Promise, async/await"></a>Promise, async/await</h3><p>Async 연산을 다루는 객체이며, 값이 되기로 약속된 값이다</p>
<p>기존에는 Async를 콜백 패턴을 통해 결과가 실행되기 위한 조건과 그에 따른 핸들러 함수를 넘겨주는 방식이었다</p>
<p>하지만 이렇게 되면 Async끼리 순서상 의존성을 가질 경우 아래와 같은 그림이 될 수 밖에 없었다</p>
<p><img src="https://cdn-images-1.medium.com/max/823/1*Co0gr64Uo5kSg89ukFD2dw.jpeg" alt="img"></p>
<p>Promise는 위의 callback hell을 개선하는 것이 목표는 아니지만, 결과적으로 가독성의 향상을 가져오는 것도 사실이다</p>
<p>하지만 Promise가 보다 의미있는 지점들이 더 있다</p>
<p>기존의 콜백 패턴의 경우 이벤트 핸들러가 언제 호출될지 정말로 알 수 없으며, 이벤트 발생 시점이 곧 호출시점으로 이어지기 때문에 개발자가 Flow에 대해 조절할 수 있는 부분이 없다</p>
<p>그러나 Promise는 그렇지 않다, Promise를 선언해놓으면 then을 하지 않더라도 call stack이 비워진 시점에 수행될 것이고, 후에 then을 하게 되면 resolve 여부에 따라 바로 수행되거나 resolve가 될 때까지 기다리게 될 것이다 (Pending -&gt; Fulfilled)</p>
<p>이러한 지점은 Promise에 대한 제대로 된 이해없이 async/await으로 곧장 넘어가게 되면 쉽게 간과할 수 있는 부분들이다, 비동기를 기다리기 위해서 무조건적으로 await을 사용할 것이 아니라 먼저 then 없이 선언하는 것을 통해 작업이 수행되도록 하고, 해당 비동기 로직과 의존성이 없는 작업들을 먼저 수행하고, 의존성이 발생한 지점에는 then이든 await이든 활용하여 기다린 후 해당 작업이 수행되도록 하는 것이 훨씬 좋은 전략이라고 생각된다</p>
<p>왜냐하면 브라우저의 렌더링도 다른 자바스크립트 로직들과 함께 싱글 스레드의 call stack을 통해 처리될 것이므로 이러한 유연성을 갖출 수 있다는 것은 보다 유려한 UI/UX를 만들 수 있도록 해줄 것이기 때문이다</p>
<p>그렇게 했을 때만 비동기라는 이름에 걸맞게, 왼쪽이 아닌 오른쪽과 같이 처리할 수 있다</p>
<p><img src="http://www.nextree.co.kr/content/images/2016/09/syhan_140320_node1_031-1024x369.png" alt="img"></p>
<p>async : executor가 내장된 generator<br>await : executor와 상호작용하는 yield의 결과를 받아옴<br>async await = generator + promise<br>async는 promise로 await을 소비<br>await는 봉화대 로직이기 때문에, 병렬성을 처리하려면 Promise.all 에 걸어주면 된다</p>
<p>또한 async는 Promise로 래핑된 값을 반환한다 (return 값은 then을 통해 넘겨받을 수 있다), 따라서 new Promise 또는 Promise.resolve() 외에도 async function를 통해서도 Promise를 만들어낼 수 있다</p>
<p>await은 다음에 나오는 문의 값이 Promise라면 fulfill된 값, 그렇지 않다면 해당 값을 <code>resolved Promise</code>로 변환시킨다</p>
<p>async/await을 사용했을 때 유용한 케이스는 resolved value를 변수에 담고자 할 때, 에러 처리, 조건문, 디버깅 등이다 (<a href="https://engineering.huiseoul.com/자바스크립트는-어떻게-작동하는가-이벤트-루프와-비동기-프로그래밍의-부상-async-await을-이용한-코딩-팁-다섯-가지-df65ffb4e7e" target="_blank" rel="noopener">자바스크립트는 어떻게 작동하는가: 이벤트 루프와 비동기 프로그래밍의 부상, async/await을 이용한 코딩 팁 다섯 가지</a>)</p>
<p>여러 Promise들이 모두 완료되길 기다려야 한다면 <a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise/all" target="_blank" rel="noopener">Promise.all()</a>를, 타임아웃과 같은 처리를 하고 싶다면 <a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise/race" target="_blank" rel="noopener">Promise.race()</a>를 활용하면 된다</p>
<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><ul>
<li><a href="https://github.com/domenic/promises-unwrapping/blob/master/docs/states-and-fates.md" target="_blank" rel="noopener">States and Fates</a></li>
<li><a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Guide/Using_promises" target="_blank" rel="noopener">Using promises</a></li>
<li><a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener">Promise</a></li>
<li><a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Statements/async_function" target="_blank" rel="noopener">async function</a></li>
<li><a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/await" target="_blank" rel="noopener">await</a></li>
<li><a href="https://medium.com/@kiwanjung/번역-async-await-를-사용하기-전에-promise를-이해하기-955dbac2c4a4" target="_blank" rel="noopener">async/await 를 사용하기 전에 promise를 이해하기</a></li>
<li><a href="https://www.youtube.com/watch?v=j0Viy3v97gY" target="_blank" rel="noopener">자바스크립트 개념잡기: 콜백 함수의 동기적 실행과 비동기적 실행</a></li>
<li><a href="https://www.youtube.com/watch?v=CA5EDD4Hjz4" target="_blank" rel="noopener">자바스크립트 promise? 나도 써보자, 기본 개념부터~</a></li>
<li><a href="https://www.youtube.com/watch?v=JzXjB6L99N4" target="_blank" rel="noopener">자바스크립트 async / await? 나도 써보자, 기본 개념부터~</a></li>
<li><a href="https://medium.com/@nemo1275/callback이-뭐죠-5f3c0cc4efce" target="_blank" rel="noopener">Callback이 뭐죠?</a></li>
<li><a href="https://medium.com/@nemo1275/promise가-뭐죠-fdf7de2bc0bf" target="_blank" rel="noopener">Promise가 뭐죠?</a></li>
<li><a href="https://medium.com/@nemo1275/await가-뭐죠-1332622df251" target="_blank" rel="noopener">await가 뭐죠?</a></li>
<li><a href="https://joshua1988.github.io/web-development/javascript/javascript-asynchronous-operation/" target="_blank" rel="noopener">자바스크립트 비동기 처리와 콜백 함수</a></li>
<li><a href="https://joshua1988.github.io/web-development/javascript/promise-for-beginners/" target="_blank" rel="noopener">자바스크립트 Promise 쉽게 이해하기</a></li>
<li><a href="https://medium.com/javascript-scene/master-the-javascript-interview-what-is-a-promise-27fc71e77261" target="_blank" rel="noopener">Master the JavaScript Interview: What is a Promise?</a></li>
<li><a href="http://satisfactoryplace.tistory.com/18" target="_blank" rel="noopener">콜백 함수(Callback)의 정확한 의미는 무엇일까?</a></li>
<li><a href="http://www.ktword.co.kr/abbr_view.php?m_temp1=3581" target="_blank" rel="noopener">Callback</a></li>
</ul>
</div><div class="article__tags"><a class="article__tags__item" href="/tags/JS/">JS</a></div><div class="article__author" itemscope itemprop="author" itemtype="https://schema.org/Person"><img class="article__author__image" src="/images/avatar.jpg" alt="Jeewhan"><a class="article__author__link" title="About Jeewhan" rel="author">Jeewhan</a><p class="article__author__desc">Dev Blog</p><div class="article__author__socials"><a class="article__author__socials__item" href="/atom.xml" title="rss" target="_blank"><i class="fa fa-rss"></i></a></div><meta itemprop="name" content="Jeewhan"></div><div class="sharer" id="sharer"><div class="sharer-inner"><div class="sharer__right"><button class="sharer__item" id="sharer-facebook"><i class="fa fa-facebook-official"></i></button><button class="sharer__item" id="sharer-twitter"><i class="fa fa-twitter"></i></button><button class="sharer__item" id="sharer-pinterest"><i class="fa fa-pinterest"></i></button><button class="sharer__item" id="sharer-pocket"><i class="fa fa-get-pocket"></i></button></div></div></div><!-- Disqus Code--><!-- Meta Tags for Structured Data--><meta itemprop="dateModified" content="2018-12-10T07:34:13.372Z"><meta itemprop="articleBody" content="Async (= 비동기)Async란 무엇인가? Sub routine이 callback을 통해 값을 반환하는 것이다
IO와 같은 작업들을 후순위로 미루어 렌더링이 끊이지 않게 하고, 퍼포먼스 밸런싱이 좋아지도록 한다 (Blocking을 없애기 위함)
비동기를 처리하기 위한 값을 만들고 우리가 원하는 시점에 꺼낼 수 있다는 것이 핵심이다
순번이 없는..."><meta itemprop="url" content="https://eclatant.io/2018/12/10/2018-12-10-Async/"><meta itemprop="mainEntityOfPage" content="https://eclatant.io/2018/12/10/2018-12-10-Async/"><div itemscope itemtype="https://schema.org/Organization" itemprop="publisher"><meta itemprop="name" content="The Pragmatic Programmer"><div itemscope itemprop="logo" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://eclatant.io/images/hollywood.png"></div></div><div itemscope itemtype="https://schema.org/ImageObject" itemprop="image"><meta itemprop="contentUrl" content="https://eclatant.io/images/hollywood.jpg"><meta itemprop="url" content="https://eclatant.io/images/hollywood.jpg"><meta itemprop="width" content="800"><meta itemprop="height" content="800"></div></article><section class="related-posts"><h3>Related posts</h3><div class="related-posts__item__wrapper"><a class="related-posts__item" href="/2018/12/09/2018-12-09-Block-NonBlock-Sync-Async/"><div class="related-posts__item__background" style="background-image:url('/images/hollywood.jpg');"></div><div class="related-posts__item__overlay"></div><span class="related-posts__item__title">Block, NonBlock, Sync, Async</span></a></div><div class="related-posts__item__wrapper"><a class="related-posts__item" href="/2018/12/09/2018-12-09-Event-Delegation/"><div class="related-posts__item__background" style="background-image:url('https://www.w3.org/TR/DOM-Level-3-Events/images/eventflow.svg');"></div><div class="related-posts__item__overlay"></div><span class="related-posts__item__title">이벤트 델리게이션</span></a></div></section></div></div></div><footer id="footer"><div class="widgets"><div class="widgets-inner"><!-- Jade doesn't support dynamic inclusion with `each`.--><!-- So, I just hard coded the file names that will be included.--><div class="widgets__item"><h3 class="widgets__item__heading">Recent posts</h3><ul class="recent-posts"><li class="recent-posts__item"><a href="/2019/02/25/2019-02-25-Refactoring-Order/">리팩토링의 순서</a></li><li class="recent-posts__item"><a href="/2019/02/23/2019-02-23-Ruby/">루비 인터뷰 질문</a></li><li class="recent-posts__item"><a href="/2019/02/16/2019-02-16-CtCI/">코딩 인터뷰 완전 분석</a></li><li class="recent-posts__item"><a href="/2019/01/28/2019-01-28-Before-CodeReview/">프론트엔드 입문자를 위한 사전 체크리스트</a></li><li class="recent-posts__item"><a href="/2018/12/13/2018-12-13-WebDev/">Web Dev Curriculum</a></li></ul></div><div class="widgets__item"><h3 class="widgets__item__heading">Tag cloud</h3><div class="tag-cloud"><a href="/tags/Algorithm/" style="font-size: 1.13rem;">Algorithm</a> <a href="/tags/Article/" style="font-size: 0.75rem;">Article</a> <a href="/tags/CtCI/" style="font-size: 0.75rem;">CtCI</a> <a href="/tags/Dev/" style="font-size: 1.5rem;">Dev</a> <a href="/tags/English/" style="font-size: 0.75rem;">English</a> <a href="/tags/Essay/" style="font-size: 0.94rem;">Essay</a> <a href="/tags/FP/" style="font-size: 0.75rem;">FP</a> <a href="/tags/JS/" style="font-size: 1.13rem;">JS</a> <a href="/tags/Python/" style="font-size: 0.75rem;">Python</a> <a href="/tags/Rails/" style="font-size: 0.75rem;">Rails</a> <a href="/tags/React/" style="font-size: 0.94rem;">React</a> <a href="/tags/Ruby/" style="font-size: 1.31rem;">Ruby</a> <a href="/tags/TDD/" style="font-size: 0.75rem;">TDD</a> <a href="/tags/node/" style="font-size: 0.75rem;">node</a></div></div><div class="widgets__item"><h3 class="widgets__item__heading">Categories</h3><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithm/">Algorithm</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Article/">Article</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/CodeSquad/">CodeSquad</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/CtCI/">CtCI</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Dev/">Dev</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/English/">English</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Essay/">Essay</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JS/">JS</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Rails/">Rails</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/React/">React</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Ruby/">Ruby</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/node/">node</a><span class="category-list-count">1</span></li></ul></div></div></div><p class="copyright"><small>© 2019 Jeewhan<br>Powered by <a href="https://hexo.io" rel="external" target="_blank">Hexo</a>, Theme by <a href="https://github.com/hyunseob" rel="external" target="_blank">HyunSeob</a></small></p></footer><!--[if lt IE 10]><script src="/js/classList.min.js"></script><![endif]--><script src="/js/index.min.js"></script></body></html>